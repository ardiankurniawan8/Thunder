webpackJsonp([9],{"1eZd":function(e,a){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Register"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputRegister"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Register"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};t.loc.source={body:"mutation Register($input: InputRegister) {\n\tRegister(input: $input) {\n\t\tid,\n\t\tname,\n\t\tusername\n\t}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,a){for(var t=0;t<e.definitions.length;t++){var r=e.definitions[t];if(r.name&&r.name.value==a)return r}}t.definitions.forEach(function(e){if(e.name){var a=new Set;!function e(a,t){if("FragmentSpread"===a.kind)t.add(a.name.value);else if("VariableDefinition"===a.kind){var r=a.type;"NamedType"===r.kind&&t.add(r.name.value)}a.selectionSet&&a.selectionSet.selections.forEach(function(a){e(a,t)}),a.variableDefinitions&&a.variableDefinitions.forEach(function(a){e(a,t)}),a.definitions&&a.definitions.forEach(function(a){e(a,t)})}(e,a),r[e.name.value]=a}}),e.exports=t,e.exports.Register=function(e,a){var t={kind:e.kind,definitions:[i(e,a)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);for(var s=r[a]||new Set,n=new Set,o=new Set(s);o.size>0;){var l=o;o=new Set,l.forEach(function(e){n.has(e)||(n.add(e),(r[e]||new Set).forEach(function(e){o.add(e)}))})}return n.forEach(function(a){var r=i(e,a);r&&t.definitions.push(r)}),t}(t,"Register")},"4JFq":function(e,a,t){"use strict";var r=t("wCEc"),i=t("rFWA"),s=t("VU/8")(r.a,i.a,!1,null,null,null);s.options.__file="components/auth/form/register.vue",a.a=s.exports},Y5Gu:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("zrAP"),i=t("i6+5"),s=t("VU/8")(r.a,i.a,!1,null,null,null);s.options.__file="pages/register.vue",a.default=s.exports},"i6+5":function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-layout",{staticClass:"my-4",attrs:{"justify-space-around":""}},[t("v-flex",{attrs:{xs12:"","justify-center":""}},[t("v-card",{staticClass:"b-1",attrs:{flat:""}},["form"===e.show?t("v-card-title",{staticClass:"headline mb-2"},[e._v("Daftar")]):t("v-card-title",{staticClass:"headline mb-2"},[e._v("Pendaftaran Berhasil")]),"form"===e.show?t("v-card-text",[t("FormRegister",{ref:"FormRegister",on:{SUBMIT_SUCCESS:e.SUBMIT_SUCCESS,SUBMIT_FAIL:e.SUBMIT_FAIL,SUBMIT_ERROR:e.SUBMIT_ERROR}})],1):t("v-card-text",[t("p",[e._v("Selamat! Akun anda telah berhasil didaftarkan")]),t("div",{staticClass:"text-xs-center"},[t("v-icon",{staticClass:"green--text display-3 my-4"},[e._v("check_circle")])],1),t("p",[e._v("Kami akan mengirimkan link untuk memverifikasi akun anda. Silahkan ikuti instruksi dalam email tersebut untuk memverifikasi akun anda")])]),t("v-divider"),t("v-card-text",[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs6:""}},[t("nuxt-link",{attrs:{to:"/"}},[e._v("Login")])],1)],1)],1)],1)],1)],1)};r._withStripped=!0;var i={render:r,staticRenderFns:[]};a.a=i},rFWA:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-layout",{attrs:{wrap:""},on:{keyup:function(a){return"button"in a||!e._k(a.keyCode,"enter",13,a.key,"Enter")?e.submit(a):null}}},[t("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",name:"name",label:"nama","error-messages":e.transformedErrors.nama,autocomplete:"new-password"},model:{value:e.formData.nama,callback:function(a){e.$set(e.formData,"nama",a)},expression:"formData['nama']"}})],1),t("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{type:"text",name:"username","append-icon":"email",label:"email","error-messages":e.transformedErrors.email,autocomplete:"new-password"},model:{value:e.formData.email,callback:function(a){e.$set(e.formData,"email",a)},expression:"formData['email']"}})],1),t("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"password",name:"password","append-icon":"lock",label:"password","error-messages":e.transformedErrors.password,autocomplete:"new-password"},model:{value:e.formData.password,callback:function(a){e.$set(e.formData,"password",a)},expression:"formData['password']"}})],1),t("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],attrs:{type:"password",name:"konfirmasi_password",label:"konfirmasi password","append-icon":"lock","error-messages":e.transformedErrors.konfirmasi_password,autocomplete:"new-password"},model:{value:e.formData.konfirmasi_password,callback:function(a){e.$set(e.formData,"konfirmasi_password",a)},expression:"formData['konfirmasi_password']"}})],1)],1),t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[e.isSubmitting?t("v-btn",{staticClass:"grey lighten-2",attrs:{flat:"",block:"",disabled:""}},[t("v-progress-circular",{staticClass:"mr-3",attrs:{indeterminate:"",size:"20"}}),e._v(" Mengirimkan data...")],1):t("v-btn",{staticClass:"primary",attrs:{flat:"",block:""},on:{click:e.submit}},[e._v("Daftar")])],1)],1)],1)};r._withStripped=!0;var i={render:r,staticRenderFns:[]};a.a=i},wCEc:function(e,a,t){"use strict";var r=t("1eZd"),i=t.n(r);a.a={apollo:{},props:{},data:function(){return{errorMessages:{},isSubmitting:!1,formData:{},GQL:{data:"Register"}}},mounted:function(){this.reset()},computed:{transformedInput:function(){return{input:{name:this.formData.nama,username:this.formData.email,password:this.formData.password}}},transformedErrors:function(){return{nama:this.translate(this.errorMessages.name,{name:"nama"}),email:this.translate(this.errorMessages.username,{username:"email"}),password:this.translate(this.errorMessages.password,{password:"password"}),konfirmasi_password:this.translate(this.errorMessages.konfirmasi_password)}}},watch:{},methods:{reset:function(){this.formData={},this.errorMessages={}},submit:function(e){var a=this;if(a.isSubmitting)return!1;a.$validator.validateAll().then(function(t){t?(a.$emit("SUBMITTING"),a.isSubmitting=!0,a.$apollo.mutate({mutation:i.a,variables:a.transformedInput}).then(function(e){a.$emit("SUBMIT_SUCCESS",e.data[a.GQL.data]),a.isSubmitting=!0}).catch(function(e){e.graphQLErrors&&Array.isArray(e.graphQLErrors)&&e.graphQLErrors.length?e.graphQLErrors.forEach(function(e){switch(e.message){case"validation":a.errorMessages=e.validation,a.$forceUpdate();break;default:a.$emit("SUBMIT_FAIL",e.code)}}):e.networkError.message&&a.$emit("SUBMIT_ERROR","Fail to connect to server"),a.isSubmitting=!1})):a.errorMessages=a.$validator.errors.collect(),e.preventDefault()})}}}},zrAP:function(e,a,t){"use strict";var r=t("4JFq");a.a={layout:"auth",components:{FormRegister:r.a},data:function(){return{show:"form"}},asyncData:function(e){e.store.dispatch("authentication/logout")},methods:{SUBMIT_SUCCESS:function(e){this.show="message",this.$store.dispatch("ui/alert",{})},SUBMIT_FAIL:function(e){this.$store.dispatch("ui/alert",{error:"Email yang anda masukkan belum terdaftar"})},SUBMIT_ERROR:function(e){alert("Connection error")}}}}});