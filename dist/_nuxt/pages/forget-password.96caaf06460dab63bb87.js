webpackJsonp([8],{"0XWZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("vMIj"),i=a("F0Io"),r=a("VU/8")(n.a,i.a,!1,null,null,null);r.options.__file="pages/forget-password.vue",t.default=r.exports},"1JND":function(e,t,a){"use strict";var n=a("UJY+"),i=a.n(n);t.a={apollo:{},props:{},data:function(){return{errorMessages:{},isSubmitting:!1,formData:{},GQL:{data:"RequestResetPassword"}}},mounted:function(){this.reset()},computed:{transformedInput:function(){return{input:{username:this.formData.email}}},transformedErrors:function(){return{email:this.translate(this.errorMessages.username,{username:"email"})}}},watch:{},methods:{reset:function(){this.formData={},this.errorMessages={}},submit:function(e){var t=this;if(t.isSubmitting)return!1;t.$validator.validateAll().then(function(a){a?(t.$emit("SUBMITTING"),t.isSubmitting=!0,t.$apollo.mutate({mutation:i.a,variables:t.transformedInput}).then(function(e){t.$emit("SUBMIT_SUCCESS",e.data[t.GQL.data]),t.isSubmitting=!0}).catch(function(e){e.graphQLErrors&&Array.isArray(e.graphQLErrors)&&e.graphQLErrors.length?e.graphQLErrors.forEach(function(e){switch(e.message){case"validation":t.errorMessages=e.validation,t.$forceUpdate();break;default:t.$emit("SUBMIT_FAIL",e.code)}}):e.networkError.message&&t.$emit("SUBMIT_ERROR","Fail to connect to server"),t.isSubmitting=!1})):t.errorMessages=t.$validator.errors.collect(),e.preventDefault()})}}}},"5w8F":function(e,t,a){"use strict";var n=a("1JND"),i=a("UGIC"),r=a("VU/8")(n.a,i.a,!1,null,null,null);r.options.__file="components/auth/form/request_reset_password.vue",t.a=r.exports},F0Io:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"my-4",attrs:{"justify-space-around":""}},[a("v-flex",{attrs:{xs12:"","justify-center":""}},[a("v-card",{staticClass:"b-1",attrs:{flat:""}},[a("v-card-title",{staticClass:"headline mb-2"},[e._v("Lupa Password")]),"form"===e.show?a("v-card-text",[a("p",[e._v("Silahkan masukkan email anda di bawah ini dan kami akan mengirimkan link untuk mengubah password ke email anda")]),a("FormRequestResetPassword",{ref:"FormRequestResetPassword",on:{SUBMIT_SUCCESS:e.SUBMIT_SUCCESS,SUBMIT_FAIL:e.SUBMIT_FAIL,SUBMIT_ERROR:e.SUBMIT_ERROR}})],1):a("v-card-text",[a("p",[e._v("Permintaan reset password telah kami terima")]),a("div",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"green--text display-3 my-4"},[e._v("check_circle")])],1),a("p",[e._v("Kami akan mengirimkan link untuk mengganti password anda ke email tersebut")])]),a("v-divider"),a("v-card-text",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("nuxt-link",{attrs:{to:"/"}},[e._v("Login")])],1),a("v-flex",{attrs:{xs6:"","text-xs-right":""}},[a("nuxt-link",{attrs:{to:"/register"}},[e._v("Daftar")])],1)],1)],1)],1)],1)],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i},UGIC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{wrap:""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null}}},[a("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{type:"text",name:"username","append-icon":"email",label:"email","error-messages":e.transformedErrors.email,autocomplete:"new-password"},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData['email']"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[e.isSubmitting?a("v-btn",{staticClass:"grey lighten-2",attrs:{flat:"",block:"",disabled:""}},[a("v-progress-circular",{staticClass:"mr-3",attrs:{indeterminate:"",size:"20"}}),e._v(" Mengirimkan data...")],1):a("v-btn",{staticClass:"primary",attrs:{flat:"",block:""},on:{click:e.submit}},[e._v("Kirim Link")])],1)],1)],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i},"UJY+":function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RequestResetPassword"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputRequestResetPassword"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"RequestResetPassword"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[]}]}}],loc:{start:0,end:105}};a.loc.source={body:"mutation RequestResetPassword($input: InputRequestResetPassword) {\n\tRequestResetPassword(input: $input)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function i(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,a){if("FragmentSpread"===t.kind)a.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&a.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,a)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,a)}),t.definitions&&t.definitions.forEach(function(t){e(t,a)})}(e,t),n[e.name.value]=t}}),e.exports=a,e.exports.RequestResetPassword=function(e,t){var a={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);for(var r=n[t]||new Set,s=new Set,o=new Set(r);o.size>0;){var u=o;o=new Set,u.forEach(function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return s.forEach(function(t){var n=i(e,t);n&&a.definitions.push(n)}),a}(a,"RequestResetPassword")},vMIj:function(e,t,a){"use strict";var n=a("5w8F");t.a={layout:"auth",components:{FormRequestResetPassword:n.a},data:function(){return{show:"form"}},asyncData:function(e){e.store.dispatch("authentication/logout")},methods:{SUBMIT_SUCCESS:function(e){this.show="message",this.$store.dispatch("ui/alert",{})},SUBMIT_FAIL:function(e){switch(e){case 404:this.$store.dispatch("ui/alert",{error:"Email yang anda masukkan belum terdaftar"})}},SUBMIT_ERROR:function(e){alert("Connection error")}}}}});