webpackJsonp([4],{"+N0E":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Dhwi"),i=t("Idc3"),l=t("VU/8")(n.a,i.a,!1,null,null,null);l.options.__file="pages/dashboard/_company_id/hrd/employee/_employee_id.vue",a.default=l.exports},"1tjZ":function(e,a,t){"use strict";var n=t("naXM"),i=t("uaXW"),l=t("VU/8")(n.a,i.a,!1,null,null,null);l.options.__file="components/table/hrd/table_employment.vue",a.a=l.exports},Dhwi:function(e,a,t){"use strict";var n=t("QH9N"),i=t.n(n),l=t("1tjZ");a.a={apollo:{$client:"customer"},middleware:["auth","session_lifetime"],components:{QueryEmployee:i.a,TableEmployment:l.a},data:function(){return{data:{},drawer:!1,employment_data:[],mode:1}},mounted:function(){this.fetch()},methods:{fetch:function(){var e=this;this.$apollo.query({query:i.a,variables:{organization_id:this.$route.params.id,id:this.$route.params.employee_id},fetchPolicy:"no-cache"}).then(function(a){e.data=a.data.Employee[0],e.employment_data=e.data.employments,e.$refs.TableEmployment.$forceUpdate()})}}}},Idc3:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-card",{staticStyle:{"min-height":"500px"},attrs:{flat:""}},[t("v-navigation-drawer",{attrs:{permanent:"",absolute:"",app:""},model:{value:e.drawer,callback:function(a){e.drawer=a},expression:"drawer"}},[t("v-toolbar",{staticClass:"transparent",attrs:{flat:""}},[t("v-list",{staticClass:"pa-0"},[t("v-list-tile",{attrs:{avatar:""}},[t("v-list-tile-avatar",[t("img",{attrs:{src:"https://randomuser.me/api/portraits/men/85.jpg"}})]),t("v-list-tile-content",[t("v-list-tile-title",[e._v(e._s(e.data.name))])],1)],1)],1)],1),t("v-list",{staticClass:"pt-0"},[t("v-divider"),t("v-list-tile",{on:{click:function(a){e.mode=1}}},[t("v-list-tile-content",[t("v-list-tile-title",[e._v("Profil")])],1)],1),t("v-list-tile",{on:{click:function(a){e.mode=2}}},[t("v-list-tile-content",[t("v-list-tile-title",[e._v("Dokumen")])],1)],1)],1)],1),1===e.mode?t("div",[t("TableEmployment",{key:this.data.id,ref:"TableEmployment",attrs:{organizationId:this.$route.params.id,employeeId:this.$route.params.employee_id,defaultData:e.employment_data,headers:["mulai","akhir","jabatan"]}})],1):e._e()],1)],1)],1)],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};a.a=i},QH9N:function(e,a){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Employee"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"employee_of"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"employee_no"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"take"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderby"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"OrderBy"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Employee"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"employee_of"},value:{kind:"Variable",name:{kind:"Name",value:"employee_of"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"employee_no"},value:{kind:"Variable",name:{kind:"Name",value:"employee_no"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}},{kind:"Argument",name:{kind:"Name",value:"take"},value:{kind:"Variable",name:{kind:"Name",value:"take"}}},{kind:"Argument",name:{kind:"Name",value:"orderby"},value:{kind:"Variable",name:{kind:"Name",value:"orderby"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"employee_no"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"employments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active_since"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active_until"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"EmployeeCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"employee_of"},value:{kind:"Variable",name:{kind:"Name",value:"employee_of"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"employee_no"},value:{kind:"Variable",name:{kind:"Name",value:"employee_no"}}}],directives:[]}]}}],loc:{start:0,end:585}};t.loc.source={body:"query Employee($id: String, \n\t\t\t\t$search: String, \n\t\t\t\t$employee_of: String, \n\t\t\t\t$name: String, \n\t\t\t\t$employee_no: String, \n\t\t\t\t$skip: Int, \n\t\t\t\t$take: Int\n\t\t\t\t$orderby: [OrderBy]\n\t\t\t) \t\n{\n\tEmployee(\n\t\t\t\tid: $id, \n\t\t\t\tsearch:$search, \n\t\t\t\temployee_of:$employee_of, \n\t\t\t\tname:$name, \n\t\t\t\temployee_no:$employee_no, \n\t\t\t\tskip:$skip, \n\t\t\t\ttake:$take,\n\t\t\t\torderby:$orderby\n\t\t\t) \n\t{\n\t\tid,\n\t\tname,\n\t\temployee_no,\n\t\temployments {role, active_since, active_until}\n\t},\n\tEmployeeCount(\n\t\tid: $id, \n\t\tsearch:$search, \n\t\temployee_of:$employee_of, \n\t\tname:$name, \n\t\temployee_no:$employee_no, \n\t)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function i(e,a){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==a)return n}}t.definitions.forEach(function(e){if(e.name){var a=new Set;!function e(a,t){if("FragmentSpread"===a.kind)t.add(a.name.value);else if("VariableDefinition"===a.kind){var n=a.type;"NamedType"===n.kind&&t.add(n.name.value)}a.selectionSet&&a.selectionSet.selections.forEach(function(a){e(a,t)}),a.variableDefinitions&&a.variableDefinitions.forEach(function(a){e(a,t)}),a.definitions&&a.definitions.forEach(function(a){e(a,t)})}(e,a),n[e.name.value]=a}}),e.exports=t,e.exports.Employee=function(e,a){var t={kind:e.kind,definitions:[i(e,a)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);for(var l=n[a]||new Set,r=new Set,o=new Set(l);o.size>0;){var d=o;o=new Set,d.forEach(function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(a){var n=i(e,a);n&&t.definitions.push(n)}),t}(t,"Employee")},naXM:function(e,a,t){"use strict";var n=t("QH9N"),i=t.n(n);a.a={props:{headers:{type:Array,default:function(){return[]}},dataFilter:{type:Object,default:function(){return{}}},defaultData:{type:Array,default:function(){return[]}},organizationId:{type:String,required:!0},employeeId:{type:String,required:!0}},watch:{"table.pagination.rowsPerPage":function(){this.fetch()},"table.pagination.page":function(){this.fetch()}},computed:{computedHeaders:function(){var e=this,a=[];return e.headers.forEach(function(t){for(var n=0;n<e.table.availableHeaders.length;n++)e.table.availableHeaders[n].text===t&&a.push(e.table.availableHeaders[n])}),a}},apollo:{$client:"customer"},data:function(){return{table:{isLoading:!1,data:[],data_count:0,pagination:{sortBy:"name",descending:!1,page:1,rowsPerPage:25},availableHeaders:[{text:"mulai",align:"left",value:"active_since",sortable:!0},{text:"akhir",align:"left",value:"active_until",sortable:!0},{text:"jabatan",align:"left",value:"role",sortable:!0}]}}},mounted:function(){this.reload()},methods:{reload:function(){void 0===this.defaultData?this.fetch():this.table.data=this.defaultData},fetch:function(){var e=this;e.table.data=[],e.table.isLoading=!0;var a={organization_id:this.organizationId,skip:(e.table.pagination.page-1)*e.table.pagination.rowsPerPage,take:e.table.pagination.rowsPerPage,orderby:[{field:this.table.pagination.sortBy,mode:this.table.pagination.descending?-1:1}]};for(var t in this.dataFilter)this.dataFilter.hasOwnProperty(t)&&(a[t]=this.dataFilter[t]);this.$apollo.query({query:i.a,variables:a,fetchPolicy:"no-cache"}).then(function(a){e.table.data=a.data.Employee[0].employments,e.table.data_count=a.data.Employee[0].employments.length,e.table.isLoading=!1})},changeSort:function(e){this.table.pagination.sortBy===e?this.table.pagination.descending=!this.table.pagination.descending:(this.table.pagination.descending=!1,this.table.pagination.sortBy=e),this.fetch()},rowClicked:function(e){this.$emit("ITEM_CLICKED",e)}}}},uaXW:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._t("filter"),e._t("filter_list"),t("v-data-table",{attrs:{headers:e.computedHeaders,items:e.table.data,pagination:e.table.pagination,"total-items":e.table.data_count,loading:e.table.isLoading,"select-all":"","item-key":"name","rows-per-page-items":[1,25,50,100]},on:{"update:pagination":function(a){e.$set(e.table,"pagination",a)}},scopedSlots:e._u([{key:"headers",fn:function(a){return[t("tr",[t("th",{attrs:{width:"5"}},[e._v("#")]),e._l(a.headers,function(a){return t("th",{key:a.text,class:["column sortable",e.table.pagination.descending?"desc":"asc",a.value===e.table.pagination.sortBy?"active":"","text-xs-"+a.align],on:{click:function(t){e.changeSort(a.value)}}},[t("v-icon",{attrs:{small:""}},[e._v("arrow_upward")]),e._v("\n          "+e._s(a.text)+" \n        ")],1)})],2)]}},{key:"items",fn:function(a){return[t("tr",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.rowClicked(a.item.id)}}},[t("td",[e._v("\n          "+e._s((e.table.pagination.page-1)*e.table.pagination.rowsPerPage+a.index+1)+"\n        ")]),e._l(e.computedHeaders,function(n){return["mulai"===n.text?t("td",[e._v(e._s(e._f("toDate")(a.item.active_since)))]):"akhir"===n.text?t("td",[e._v(e._s(e._f("toDate")(a.item.active_until)))]):"jabatan"===n.text?t("td",[e._v(e._s(a.item.role))]):e._e()]})],2)]}}])},[t("template",{slot:"no-results"},[e.table.isLoading?t("span",[e._v("Loading...")]):t("span",[e._v("Tidak ada data ditemukan")])]),t("template",{slot:"no-data"},[e.defaultData?t("span",[e._v("Loading...")]):t("span",[e._v("Tidak ada data ditemukan")])])],2)],2)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};a.a=i}});